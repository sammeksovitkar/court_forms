import React, { useState, useMemo } from 'react';

// For the purposes of this file, we assume the initial structure of the existing application.
// We are defining PrintLayout inline as part of the single-file React component structure.

const initialFormData = {
  // New selections
  formType: '‡§∏‡§æ‡§ï‡•ç‡§∑‡•Ä‡§¶‡§æ‡§∞‡§æ‡§∏ ‡§∏‡§Æ‡§®‡•ç‡§∏', // Default: ‡§∏‡§æ‡§ï‡•ç‡§∑‡•Ä‡§¶‡§æ‡§∞‡§æ‡§∏ ‡§∏‡§Æ‡§®‡•ç‡§∏
  caseType: 'R.C.C.',        // Default: R.C.C.
  
  // Data fields
  caseNo: '',
  accusedName: '',
  lawSection: '',
  summonDate: '', 
  currentDate: new Date().toLocaleDateString('en-GB'), 
  courtLocation: '‡§Æ‡§®‡§Æ‡§æ‡§° ‡§∂‡§π‡§∞',
  policeStation: '‡§Æ‡§®‡§Æ‡§æ‡§° ‡§∂‡§π‡§∞',
  court: "‡§®‡•ç‡§Ø‡§æ‡§Ø‡§¶‡§Ç‡§°‡§æ‡§ß‡§ø‡§ï‡§æ‡§∞‡•Ä ‡§™‡•ç‡§∞‡§•‡§Æ‡§µ‡§∞‡•ç‡§ó,",
  witnesses: [
    { name: '', address: '' },
  ],
};

// =================================================================
// PrintLayout Component (Internal)
// =================================================================

const PrintLayout = ({ data }) => {
  const { 
    formType, caseType, caseNo, accusedName, lawSection, 
    summonDate, currentDate, courtLocation, policeStation, court, 
    witnesses 
  } = data;

  const caseLabel = caseType === 'Cri M.A.' || caseType === 'D.V.' ? caseType : `${caseType}. No.`;
  const caseNumberDisplay = `${caseLabel} ${caseNo || '.....................'}`;

  // Helper function for text formatting
  const dataPlaceholder = (text) => `<span class="data-placeholder">${text || '.....................'}</span>`;
  const datePlaceholder = (dateString) => {
    if (!dateString) return dataPlaceholder('');
    // Convert YYYY-MM-DD to DD/MM/YYYY for display if it's a date input value
    const parts = dateString.split('-');
    if (parts.length === 3) {
      return dataPlaceholder(`${parts[2]}/${parts[1]}/${parts[0]}`);
    }
    return dataPlaceholder(dateString); // Fallback for pre-formatted date
  };

  // 1. Title/Header based on Form Type
  const titleText = useMemo(() => {
    switch (formType) {
      case '‡§Ü‡§∞‡•ã‡§™‡•Ä‡§∏ ‡§∏‡§Æ‡§®‡•ç‡§∏':
        return '‡§Ü‡§∞‡•ã‡§™‡•Ä‡§∏ ‡§∏‡§Æ‡§®‡•ç‡§∏';
      case '‡§∏‡§æ‡§Æ‡§®‡•á‡§µ‡§æ‡§≤‡§æ ‡§Ø‡§æ‡§Ç‡§∏ ‡§®‡•ã‡§Ç‡§ü‡•Ä‡§∏':
        return '‡§∏‡§æ‡§Æ‡§®‡•á‡§µ‡§æ‡§≤‡§æ ‡§Ø‡§æ‡§Ç‡§∏ ‡§®‡•ã‡§Ç‡§ü‡•Ä‡§∏';
      case '‡§∏‡§æ‡§ï‡•ç‡§∑‡•Ä‡§¶‡§æ‡§∞‡§æ‡§∏ ‡§∏‡§Æ‡§®‡•ç‡§∏':
      default:
        return '‡§∏‡§æ‡§ï‡•ç‡§∑‡•Ä‡§¶‡§æ‡§∞‡§æ‡§∏ ‡§∏‡§Æ‡§®‡•ç‡§∏';
    }
  }, [formType]);

  // 2. Main Paragraph (Content) based on Form Type
  const mainContentHtml = useMemo(() => {
    const accusedPlaceholder = dataPlaceholder(accusedName);
    const lawPlaceholder = dataPlaceholder(lawSection);
    const datePlaceholderHtml = datePlaceholder(summonDate);
    
    // ‡§∏‡§æ‡§ï‡•ç‡§∑‡•Ä‡§¶‡§æ‡§∞‡§æ‡§∏ ‡§∏‡§Æ‡§®‡•ç‡§∏ (Witness Summons)
    if (formType === '‡§∏‡§æ‡§ï‡•ç‡§∑‡•Ä‡§¶‡§æ‡§∞‡§æ‡§∏ ‡§∏‡§Æ‡§®‡•ç‡§∏') {
      return `
        <div class="body-paragraph">
          ‡§ú‡•ç‡§Ø‡§æ ‡§Ö‡§∞‡•ç‡§•‡•Ä ${accusedPlaceholder} ‡§Ø‡§æ‡§®‡•á ‡§ï‡§æ‡§Ø‡§¶‡§æ ${lawPlaceholder} ‡§™‡•ç‡§∞‡§Æ‡§æ‡§£‡•á ‡§Ö‡§™‡§∞‡§æ‡§ß ‡§ï‡•á‡§≤‡§æ ‡§Ü‡§π‡•á ‡§Ö‡§∂‡•Ä ‡§Æ‡§æ‡§ù‡•ç‡§Ø‡§æ‡§ï‡§°‡•á ‡§´‡§ø‡§∞‡•ç‡§Ø‡§æ‡§¶ ‡§¶‡•á‡§£‡•ç‡§Ø‡§æ‡§§ ‡§Ü‡§≤‡•Ä ‡§Ü‡§π‡•á ‡§Ü‡§£‡§ø ‡§Æ‡§≤‡§æ ‡§Ö‡§∏‡•á ‡§¶‡§ø‡§∏‡•Å‡§® ‡§Ø‡•á‡§§‡•á ‡§ï‡•Ä, ‡§´‡§ø‡§∞‡•ç‡§Ø‡§æ‡§¶‡•Ä‡§™‡§ï‡•ç‡§∑‡§æ‡§§‡§∞‡•ç‡§´‡•á ‡§§‡•Å‡§Æ‡•ç‡§π‡•Ä ‡§Æ‡§π‡§§‡•ç‡§µ‡§æ‡§ö‡§æ ‡§™‡•Å‡§∞‡§æ‡§µ‡§æ ‡§¶‡•á‡§£‡•ç‡§Ø‡§æ‡§ö‡•Ä ‡§∂‡§ï‡•ç‡§Ø‡§§‡§æ ‡§Ü‡§π‡•á.
        </div>
        <div class="body-paragraph">
          ‡§Æ‡•ç‡§π‡§£‡•Å‡§® ‡§§‡•Å‡§Æ‡•ç‡§π‡§æ‡§≤‡§æ ‡§Ø‡§æ‡§µ‡•ç‡§¶‡§æ‡§∞‡•á ‡§Ø‡§æ ‡§®‡•ç‡§Ø‡§æ‡§Ø‡§æ‡§≤‡§Ø‡§æ‡§™‡•Å‡§¢‡•á ‡§Ø‡•á‡§§‡•ç‡§Ø‡§æ ‡§¶‡§ø‡§®‡§æ‡§Ç‡§ï ${datePlaceholderHtml} ‡§∞‡•ã‡§ú‡•Ä ‡§∏‡§ï‡§æ‡§≥‡•Ä ‡§†‡§ø‡§ï ‡•ß‡•ß:‡•¶‡•¶ ‡§µ‡§æ‡§ú‡§§‡§æ ‡§â‡§ï‡•ç‡§§ ‡§´‡§ø‡§∞‡•ç‡§Ø‡§æ‡§¶‡•Ä‡§∏‡§Ç‡§¨‡§Ç‡§ß‡§æ‡§®‡•á ‡§§‡•Å‡§Æ‡•ç‡§π‡§æ‡§≤‡§æ ‡§ú‡•á ‡§Æ‡§æ‡§π‡§ø‡§§ ‡§Ü‡§π‡•á ‡§§‡•ç‡§Ø‡§æ ‡§¨‡§¶‡•ç‡§¶‡§≤ ‡§∏‡§æ‡§ï‡•ç‡§∑ ‡§¶‡•á‡§£‡•ç‡§Ø‡§æ‡§∏‡§æ‡§†‡•Ä ‡§â‡§™‡§∏‡•ç‡§•‡§ø‡§§ ‡§π‡•ã‡§£‡•ç‡§Ø‡§æ‡§ö‡•á ‡§Ü‡§£‡§ø ‡§®‡•ç‡§Ø‡§æ‡§Ø‡§æ‡§≤‡§Ø‡§æ‡§ö‡•á ‡§™‡§∞‡§µ‡§æ‡§®‡§ó‡•Ä‡§µ‡§æ‡§ö‡•Ç‡§® ‡§®‡§ø‡§ò‡•Å‡§® ‡§® ‡§ú‡§£‡•ç‡§Ø‡§æ‡§ö‡•á ‡§∏‡§Æ‡§®‡•ç‡§∏ ‡§™‡§æ‡§†‡§µ‡§£‡•ç‡§Ø‡§æ‡§§ ‡§Ø‡•á‡§§ ‡§Ü‡§π‡•á.
        </div>
        <div class="body-paragraph">
          ‡§Ø‡§æ ‡§ï‡§æ‡§Æ‡•Ä ‡§∞‡§æ‡§∏‡•ç‡§§ ‡§∏‡§¨‡§¨‡•Ä‡§∂‡§ø‡§µ‡§æ‡§Ø ‡§π‡§Ø‡§ó‡§Ø ‡§ï‡•á‡§≤‡•Ä ‡§§‡§∞, ‡§§‡•Å‡§Æ‡•ç‡§π‡§æ‡§≤‡§æ ‡§π‡§ú‡§∞ ‡§∞‡§æ‡§π‡§£‡•ç‡§Ø‡§æ‡§ö‡•Ä ‡§∏‡§ï‡•ç‡§§‡•Ä ‡§ï‡§∞‡§£‡•ç‡§Ø‡§æ‡§∏‡§æ‡§†‡•Ä ‡§µ‡•â‡§∞‡§Ç‡§ü ‡§ï‡§æ‡§¢‡§≤‡•á ‡§ú‡§æ‡§à‡§≤.
        </div>
      `;
    } 
    
    // ‡§Ü‡§∞‡•ã‡§™‡•Ä‡§∏ ‡§∏‡§Æ‡§®‡•ç‡§∏ / ‡§∏‡§æ‡§Æ‡§®‡•á‡§µ‡§æ‡§≤‡§æ ‡§Ø‡§æ‡§Ç‡§∏ ‡§®‡•ã‡§Ç‡§ü‡•Ä‡§∏ (Accused Summons / Opponent Notice)
    // Note: The user requested the same text for these two types.
    else {
      const noticeOrSummons = formType === '‡§Ü‡§∞‡•ã‡§™‡•Ä‡§∏ ‡§∏‡§Æ‡§®‡•ç‡§∏' ? '‡§∏‡§Æ‡§®‡•ç‡§∏' : '‡§®‡•ã‡§ü‡•Ä‡§∏';
      return `
        <div class="body-paragraph">
          ‡§ú‡•ç‡§Ø‡§æ ‡§Ö‡§∞‡•ç‡§•‡•Ä ${accusedPlaceholder} ‡§Ø‡§æ‡§®‡•á ‡§ï‡§æ‡§Ø‡§¶‡§æ ${lawPlaceholder} ‡§™‡•ç‡§∞‡§Æ‡§æ‡§£‡•á ‡§Ö‡§™‡§∞‡§æ‡§ß ‡§ï‡•á‡§≤‡§æ ‡§Ü‡§π‡•á ‡§Ö‡§∂‡•Ä ‡§Æ‡§æ‡§ù‡•ç‡§Ø‡§æ‡§ï‡§°‡•á ‡§´‡§ø‡§∞‡•ç‡§Ø‡§æ‡§¶ ‡§¶‡•á‡§£‡•ç‡§Ø‡§æ‡§§ ‡§Ü‡§≤‡•Ä ‡§Ü‡§π‡•á.
        </div>
        <div class="body-paragraph">
          ‡§Æ‡•ç‡§π‡§£‡•Ç‡§® ‡§§‡•Å‡§Æ‡•ç‡§π‡§æ‡§≤‡§æ ‡§Ø‡§æ‡§µ‡•ç‡§¶‡§æ‡§∞‡•á ‡§Ø‡§æ ‡§®‡•ç‡§Ø‡§æ‡§Ø‡§æ‡§≤‡§Ø‡§æ‡§™‡•Å‡§¢‡•á ‡§Ø‡•á‡§§‡•ç‡§Ø‡§æ ‡§¶‡§ø‡§®‡§æ‡§Ç‡§ï ${datePlaceholderHtml} ‡§∞‡•ã‡§ú‡•Ä ‡§∏‡§ï‡§æ‡§≥‡•Ä ‡§†‡§ø‡§ï ‡•ß‡•ß:‡•¶‡•¶ ‡§µ‡§æ‡§ú‡§§‡§æ ‡§â‡§ï‡•ç‡§§ ‡§´‡§ø‡§∞‡•ç‡§Ø‡§æ‡§¶‡•Ä‡§∏‡§Ç‡§¨‡§Ç‡§ß‡§æ‡§®‡•á ‡§π‡§ú‡§∞ ‡§∞‡§æ‡§π‡§£‡•ç‡§Ø‡§æ‡§ö‡•á ${noticeOrSummons} ‡§™‡§æ‡§†‡§µ‡§£‡•ç‡§Ø‡§æ‡§§ ‡§Ø‡•á‡§§ ‡§Ü‡§π‡•á.
        </div>
        <div class="body-paragraph">
          ‡§Ø‡§æ ‡§ï‡§æ‡§Æ‡•Ä ‡§∞‡§æ‡§∏‡•ç‡§§ ‡§∏‡§¨‡§¨‡•Ä‡§∂‡§ø‡§µ‡§æ‡§Ø ‡§π‡§Ø‡§ó‡§Ø ‡§ï‡•á‡§≤‡•Ä ‡§§‡§∞, ‡§§‡•Å‡§Æ‡•ç‡§π‡§æ‡§≤‡§æ ‡§π‡§ú‡§∞ ‡§∞‡§æ‡§π‡§£‡•ç‡§Ø‡§æ‡§ö‡•Ä ‡§∏‡§ï‡•ç‡§§‡•Ä ‡§ï‡§∞‡§£‡•ç‡§Ø‡§æ‡§∏‡§æ‡§†‡•Ä ‡§µ‡•â‡§∞‡§Ç‡§ü ‡§ï‡§æ‡§¢‡§≤‡•á ‡§ú‡§æ‡§à‡§≤.
        </div>
      `;
    }
  }, [formType, accusedName, lawSection, summonDate]);


  // 3. Witnesses Table (only for ‡§∏‡§æ‡§ï‡•ç‡§∑‡•Ä‡§¶‡§æ‡§∞‡§æ‡§∏ ‡§∏‡§Æ‡§®‡•ç‡§∏)
  const witnessesTable = useMemo(() => {
    if (formType !== '‡§∏‡§æ‡§ï‡•ç‡§∑‡•Ä‡§¶‡§æ‡§∞‡§æ‡§∏ ‡§∏‡§Æ‡§®‡•ç‡§∏' || witnesses.filter(w => w.name || w.address).length === 0) {
      return '';
    }

    const rows = witnesses.map((w, index) => `
      <tr>
        <td class="align-center">${index + 1}</td>
        <td>${dataPlaceholder(w.name)}</td>
        <td>${dataPlaceholder(w.address)}</td>
      </tr>
    `).join('');

    return `
      <h3 class="align-center" style="margin-top: 15px; margin-bottom: 5px;">‡§∏‡§æ‡§ï‡•ç‡§∑‡•Ä‡§¶‡§æ‡§∞‡§æ‡§Ç‡§ö‡•Ä ‡§Ø‡§æ‡§¶‡•Ä</h3>
      <table class="witness-table">
        <thead>
          <tr>
            <th style="width: 10%;">‡§Ö.‡§ï‡•ç‡§∞</th>
            <th style="width: 40%;">‡§∏‡§æ‡§ï‡•ç‡§∑‡•Ä‡§¶‡§æ‡§∞‡§æ‡§ö‡•á ‡§®‡§æ‡§Ç‡§µ</th>
            <th style="width: 50%;">‡§∞‡§æ‡§π‡§£‡§æ‡§∞ (‡§™‡§§‡•ç‡§§‡§æ)</th>
          </tr>
        </thead>
        <tbody>
          ${rows}
        </tbody>
      </table>
    `;
  }, [formType, witnesses]);
return (
    <div className="a4-page-content">
      
      {/* Date: Using dangerouslySetInnerHTML for content with placeholders */}
      <div 
        className="align-right" 
        dangerouslySetInnerHTML={{ __html: `‡§¶‡§ø‡§®‡§æ‡§Ç‡§ï: ${datePlaceholder(currentDate)}` }} 
      />
      
      {/* Court Title/Location */}
      <div className="align-center court-title">${court}</div>
      <div 
        className="align-center court-title"
        dangerouslySetInnerHTML={{ __html: `(${dataPlaceholder(courtLocation)}), ${dataPlaceholder(policeStation)}` }}
      />
      
      <h1 className="align-center court-slogan">{titleText}</h1>
      
      {/* Case Numbers / Police Station */}
      <div className="case-numbers">
        <div dangerouslySetInnerHTML={{ __html: `<span class="data-placeholder">${caseNumberDisplay}</span>` }} />
        <div dangerouslySetInnerHTML={{ __html: `‡§™‡•ã‡§≤‡•Ä‡§∏ ‡§∏‡•ç‡§ü‡•á‡§∂‡§®: ${dataPlaceholder(policeStation)}` }} />
      </div>

      {/* Party Info */}
      <div className="party-info" style={{marginTop: '15px'}}> {/* FIX: style prop must be an object */}
        <div className="party-line" dangerouslySetInnerHTML={{ __html: `‡§Ü‡§∞‡•ã‡§™‡•Ä‡§ö‡•á ‡§®‡§æ‡§Ç‡§µ: ${dataPlaceholder(accusedName)}` }} />
        <div className="party-line" dangerouslySetInnerHTML={{ __html: `‡§ï‡§≤‡§Æ: ${dataPlaceholder(lawSection)}` }} />
      </div>
      
      {/* üí• FIX 1: Use dangerouslySetInnerHTML for mainContentHtml */}
      <div style={{marginTop: '15px'}} dangerouslySetInnerHTML={{ __html: mainContentHtml }} />

      {/* üí• FIX 2: Use a wrapper div and dangerouslySetInnerHTML for witnessesTable */}
      <div dangerouslySetInnerHTML={{ __html: witnessesTable }} />
      
      {/* Footer Section */}
      <div className="footer-section">
        <div dangerouslySetInnerHTML={{ __html: `‡§Ü‡§ú ‡§¶‡§ø‡§®‡§æ‡§Ç‡§ï ${datePlaceholder(currentDate)} ‡§∞‡•ã‡§ú‡•Ä ‡§Æ‡§æ‡§ù‡•ç‡§Ø‡§æ ‡§∏‡§π‡•Ä‡§®‡•á ‡§µ ‡§®‡•ç‡§Ø‡§æ‡§Ø‡§æ‡§≤‡§Ø‡§æ‡§ö‡•ç‡§Ø‡§æ ‡§∂‡§ø‡§ï‡•ç‡§ï‡•ç‡§Ø‡§æ‡§®‡•á ‡§ú‡§æ‡§∞‡•Ä ‡§ï‡•á‡§≤‡•á.` }} />
        <div className="signature-block">
          (‡§∏‡§π‡•Ä)<br/>
          {court}<br/>
          <span dangerouslySetInnerHTML={{ __html: dataPlaceholder(courtLocation) }} />
        </div>
      </div>
    </div>
  );
};


// =================================================================
// SummonsFormApp Component (Main App)
// =================================================================

const SummonsFormApp = () => {
  const [formData, setFormData] = useState(initialFormData);

  const handleInputChange = (e) => {
    const { name, value } = e.target;
    setFormData((prev) => ({
      ...prev,
      [name]: value,
    }));
  };

  const handleWitnessChange = (index, field, value) => {
    const newWitnesses = formData.witnesses.map((witness, i) => {
      if (i === index) {
        return { ...witness, [field]: value };
      }
      return witness;
    });
    setFormData((prev) => ({ ...prev, witnesses: newWitnesses }));
  };
  
  const handleAddWitness = () => {
    setFormData(prev => ({
      ...prev,
      witnesses: [...prev.witnesses, { name: '', address: '' }]
    }));
  };
  
  const handleFormTypeChange = (type) => {
    setFormData(prev => ({
        ...prev,
        formType: type
    }));
  };

  const handleCaseTypeChange = (type) => {
    setFormData(prev => ({
        ...prev,
        caseType: type
    }));
  };

  // =================================================================
  // Print Handler
  // =================================================================
  const handlePrint = () => {
    const printContent = document.getElementById('print-area').innerHTML;
    
    const printWindow = window.open('', '_blank');
    printWindow.document.write('<html><head><title>‡§ï‡•ã‡§∞‡•ç‡§ü ‡§¶‡§∏‡•ç‡§§‡§ê‡§µ‡§ú</title>');
    
    // A4 ‡§Ü‡§£‡§ø ‡§™‡•ç‡§∞‡§ø‡§Ç‡§ü‡§∏‡§æ‡§†‡•Ä ‡§Ü‡§µ‡§∂‡•ç‡§Ø‡§ï ‡§∏‡•ç‡§ü‡§æ‡§à‡§≤‡•ç‡§∏
    printWindow.document.write('<style>');
    printWindow.document.write(`
      @page { size: A4; margin: 15mm 20mm 15mm 20mm; } 
      body { 
          font-family: Arial, "Noto Sans CJK JP", sans-serif; /* Added Noto Sans for better Marathi display */
          font-size: 11pt;
          line-height: 1.4;
          margin: 0;
          color: #000;
      }
      .a4-page-content {
          width: 100%;
          padding: 0;
      }
      .align-center { text-align: center; }
      .align-right { text-align: right; }
      .case-numbers { display: flex; justify-content: space-between; margin-top: 5px; font-size: 10pt; }
      .witness-table { width: 100%; border-collapse: collapse; margin-top: 10px; font-size: 10pt; }
      .witness-table th, .witness-table td { border: 1px solid black; padding: 4px 6px; }
      .data-placeholder { text-decoration: underline; font-weight: bold; padding: 0 4px; display: inline-block; min-width: 50px; }
      
      .court-title { font-size: 14pt; margin-bottom: 2px; line-height: 1.2; font-weight: bold;}
      .court-slogan { font-size: 20pt; margin: 10px 0 15px 0; font-weight: bold; border-bottom: 2px solid #000; padding-bottom: 5px;}
      
      .body-paragraph {
          text-align: justify;
          text-indent: 1em;
          margin-bottom: 10px;
          line-height: 1.5;
      }
      .party-info { font-size: 11pt; line-height: 1.5; }
      .party-line { margin-bottom: 5px; }
      
      .footer-section { 
          margin-top: 40px; 
          display: flex; 
          justify-content: space-between; 
          align-items: flex-end; 
          width: 100%;
          font-size: 11pt;
      }
      .signature-block { 
          text-align: center;
          width: 40%;
          line-height: 1.3;
      }
      @media print {
        -webkit-print-color-adjust: exact !important; 
        color-adjust: exact !important;
      }
    `);
    printWindow.document.write('</style>');
    printWindow.document.write('</head><body>');
    printWindow.document.write(printContent);
    printWindow.document.write('</body></html>');
    
    printWindow.document.close();
    printWindow.print();
  };
  
  // =================================================================
  // UI Rendering
  // =================================================================

  const caseLabelText = useMemo(() => {
    if (formData.caseType === 'R.C.C.' || formData.caseType === 'S.C.C.') {
      return `${formData.caseType}. No.:`;
    }
    return `${formData.caseType} No.:`;
  }, [formData.caseType]);

  const showWitnesses = formData.formType === '‡§∏‡§æ‡§ï‡•ç‡§∑‡•Ä‡§¶‡§æ‡§∞‡§æ‡§∏ ‡§∏‡§Æ‡§®‡•ç‡§∏';

  return (
    <div className="p-6 bg-gray-50 min-h-screen">
      <style jsx global>{`
        /* Global Styles for Tailwind-less appearance */
        .form-container {
            max-width: 900px;
            margin: 0 auto;
            padding: 30px;
            background: white;
            border-radius: 12px;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
        }
        .input-group label {
            display: block;
            margin-bottom: 5px;
            font-weight: 600;
            color: #333;
            font-size: 0.9rem;
        }
        .input-group input, .input-group select {
            width: 100%;
            padding: 8px 12px;
            border: 1px solid #ccc;
            border-radius: 6px;
            box-sizing: border-box;
            margin-bottom: 15px;
            font-size: 1rem;
        }
        .radio-group {
            display: flex;
            flex-wrap: wrap;
            gap: 15px;
            margin-bottom: 20px;
            padding: 10px;
            border: 1px solid #ddd;
            border-radius: 8px;
            background: #f9f9f9;
        }
        .radio-group label {
            cursor: pointer;
            padding: 8px 12px;
            border-radius: 4px;
            transition: all 0.3s;
            font-size: 0.9rem;
        }
        .radio-group input[type="radio"] {
            margin-right: 5px;
        }
        .radio-group input[type="radio"]:checked + span {
            background-color: #3b82f6;
            color: white;
            border-color: #2563eb;
        }
        .radio-group label > span {
            padding: 5px 10px;
            border: 1px solid #ccc;
            border-radius: 4px;
            display: inline-block;
        }
        .print-button {
            background-color: #10b981;
            color: white;
            padding: 10px 20px;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            font-size: 1rem;
            font-weight: bold;
            margin-bottom: 20px;
            transition: background-color 0.3s;
        }
        .print-button:hover {
            background-color: #059669;
        }
        .add-button {
            background-color: #f59e0b;
            color: white;
            padding: 8px 15px;
            border: none;
            border-radius: 6px;
            cursor: pointer;
            margin-top: 10px;
            transition: background-color 0.3s;
        }
        .add-button:hover {
            background-color: #d97706;
        }
        .witness-input-table {
            width: 100%;
            border-collapse: collapse;
            margin-bottom: 20px;
        }
        .witness-input-table th, .witness-input-table td {
            border: 1px solid #ddd;
            padding: 8px;
            text-align: left;
        }
        .witness-input-table input {
            width: 100%;
            border: none;
            padding: 0;
            margin: 0;
            outline: none;
        }
      `}</style>
      
      <div className="form-container">
        <h2 className="text-2xl font-bold mb-6 text-gray-800">‡§ï‡•ã‡§∞‡•ç‡§ü ‡§¶‡§∏‡•ç‡§§‡§ê‡§µ‡§ú ‡§®‡§ø‡§∞‡•ç‡§Æ‡§ø‡§§‡•Ä (Court Document Generator)</h2>
        
        <button onClick={handlePrint} className="print-button">
          ‡§™‡•ç‡§∞‡§ø‡§Ç‡§ü ‡§ï‡§∞‡§æ ‡§™
        </button>

        {/* -------------------------------------- */}
        {/* 1. ‡§´‡•â‡§∞‡•ç‡§Æ ‡§™‡•ç‡§∞‡§ï‡§æ‡§∞ ‡§®‡§ø‡§µ‡§° */}
        {/* -------------------------------------- */}
        <h3 className="text-xl font-semibold mt-4 mb-3 text-indigo-700">‡•ß. ‡§¶‡§∏‡•ç‡§§‡§ê‡§µ‡§ú‡§æ‡§ö‡§æ ‡§™‡•ç‡§∞‡§ï‡§æ‡§∞ ‡§®‡§ø‡§µ‡§°‡§æ</h3>
        <div className="radio-group">
          {['‡§∏‡§æ‡§ï‡•ç‡§∑‡•Ä‡§¶‡§æ‡§∞‡§æ‡§∏ ‡§∏‡§Æ‡§®‡•ç‡§∏', '‡§Ü‡§∞‡•ã‡§™‡•Ä‡§∏ ‡§∏‡§Æ‡§®‡•ç‡§∏', '‡§∏‡§æ‡§Æ‡§®‡•á‡§µ‡§æ‡§≤‡§æ ‡§Ø‡§æ‡§Ç‡§∏ ‡§®‡•ã‡§Ç‡§ü‡•Ä‡§∏'].map(type => (
            <label key={type}>
              <input 
                type="radio" 
                name="formType" 
                value={type} 
                checked={formData.formType === type}
                onChange={() => handleFormTypeChange(type)}
              />
              <span>{type}</span>
            </label>
          ))}
        </div>

        {/* -------------------------------------- */}
        {/* 2. ‡§ï‡•á‡§∏ ‡§™‡•ç‡§∞‡§ï‡§æ‡§∞ ‡§®‡§ø‡§µ‡§° */}
        {/* -------------------------------------- */}
        <h3 className="text-xl font-semibold mt-4 mb-3 text-indigo-700">‡•®. ‡§ï‡•á‡§∏‡§ö‡§æ ‡§™‡•ç‡§∞‡§ï‡§æ‡§∞ ‡§®‡§ø‡§µ‡§°‡§æ</h3>
        <div className="radio-group">
          {['R.C.C.', 'Cri M.A.', 'D.V.', 'S.C.C.'].map(type => (
            <label key={type}>
              <input 
                type="radio" 
                name="caseType" 
                value={type} 
                checked={formData.caseType === type}
                onChange={() => handleCaseTypeChange(type)}
              />
              <span>{type}</span>
            </label>
          ))}
        </div>


        <h3 className="text-xl font-semibold mt-6 mb-4 text-green-700">‡•©. ‡§Æ‡•Ç‡§≤‡§≠‡•Ç‡§§ ‡§Æ‡§æ‡§π‡§ø‡§§‡•Ä ‡§≠‡§∞‡§æ</h3>

        {/* ‡§®‡•ç‡§Ø‡§æ‡§Ø‡§æ‡§≤‡§Ø ‡§Ü‡§£‡§ø ‡§†‡§ø‡§ï‡§æ‡§£‡•á */}
        <div className="grid grid-cols-1 md:grid-cols-2 gap-4">
            <div className="input-group">
                <label>‡§®‡•ç‡§Ø‡§æ‡§Ø‡§æ‡§≤‡§Ø (‡§â‡§¶‡§æ: ‡§®‡•ç‡§Ø‡§æ‡§Ø‡§¶‡§Ç‡§°‡§æ‡§ß‡§ø‡§ï‡§æ‡§∞‡•Ä ‡§™‡•ç‡§∞‡§•‡§Æ‡§µ‡§∞‡•ç‡§ó,):</label>
                <input type="text" name="court" value={formData.court} onChange={handleInputChange} placeholder="‡§®‡•ç‡§Ø‡§æ‡§Ø‡§¶‡§Ç‡§°‡§æ‡§ß‡§ø‡§ï‡§æ‡§∞‡•Ä ‡§™‡•ç‡§∞‡§•‡§Æ‡§µ‡§∞‡•ç‡§ó," />
            </div>
            <div className="input-group">
                <label>‡§®‡•ç‡§Ø‡§æ‡§Ø‡§æ‡§≤‡§Ø‡§æ‡§ö‡•á ‡§†‡§ø‡§ï‡§æ‡§£:</label>
                <input type="text" name="courtLocation" value={formData.courtLocation} onChange={handleInputChange} placeholder="‡§Æ‡§®‡§Æ‡§æ‡§° ‡§∂‡§π‡§∞" />
            </div>
        </div>
        <div className="input-group">
          <label>‡§™‡•ã‡§≤‡•Ä‡§∏ ‡§∏‡•ç‡§ü‡•á‡§∂‡§®‡§ö‡•á ‡§†‡§ø‡§ï‡§æ‡§£:</label>
          <input type="text" name="policeStation" value={formData.policeStation} onChange={handleInputChange} placeholder="‡§Æ‡§®‡§Æ‡§æ‡§° ‡§∂‡§π‡§∞ ‡§™‡•ã‡§≤‡•Ä‡§∏ ‡§∏‡•ç‡§ü‡•á‡§∂‡§®" />
        </div>


        {/* ‡§ï‡•á‡§∏ ‡§ï‡•ç‡§∞‡§Æ‡§æ‡§Ç‡§ï */}
        <div className="grid grid-cols-1 md:grid-cols-2 gap-4">
            <div className="input-group">
              <label>{caseLabelText} (‡§ï‡•ç‡§∞‡§Æ‡§æ‡§Ç‡§ï):</label>
              <input type="text" name="caseNo" value={formData.caseNo} onChange={handleInputChange} placeholder="‡§ï‡•á‡§∏ ‡§ï‡•ç‡§∞‡§Æ‡§æ‡§Ç‡§ï / Case Number" />
            </div>
             <div className="input-group">
                <label>‡§∏‡§Æ‡§®‡•ç‡§∏‡§ö‡•Ä ‡§§‡§æ‡§∞‡•Ä‡§ñ (‡§¶‡§ø‡§®‡§æ‡§Ç‡§ï):</label>
                <input type="date" name="summonDate" value={formData.summonDate} onChange={handleInputChange} />
            </div>
        </div>


        {/* ‡§Ü‡§∞‡•ã‡§™‡•Ä ‡§Ü‡§£‡§ø ‡§ï‡§≤‡§Æ */}
        <div className="grid grid-cols-1 md:grid-cols-2 gap-4">
            <div className="input-group">
                <label>‡§Ü‡§∞‡•ã‡§™‡•Ä‡§ö‡•á/‡§∏‡§æ‡§Æ‡§®‡•á‡§µ‡§æ‡§≤‡•ç‡§Ø‡§æ‡§ö‡•á ‡§®‡§æ‡§Ç‡§µ:</label>
                <input type="text" name="accusedName" value={formData.accusedName} onChange={handleInputChange} placeholder="‡§™‡•Ç‡§∞‡•ç‡§£ ‡§®‡§æ‡§Ç‡§µ" />
            </div>
            <div className="input-group">
                <label>‡§ï‡§æ‡§Ø‡§¶‡§æ/‡§ï‡§≤‡§Æ:</label>
                <input type="text" name="lawSection" value={formData.lawSection} onChange={handleInputChange} placeholder="‡§â‡§¶‡§æ: IPC ‡§ï‡§≤‡§Æ 323, 504" />
            </div>
        </div>

        {/* ‡§∏‡§æ‡§ï‡•ç‡§∑‡§¶‡§æ‡§∞ ‡§Ø‡§æ‡§¶‡•Ä (‡§∏‡§æ‡§ï‡•ç‡§∑‡•Ä‡§¶‡§æ‡§∞‡§æ‡§∏ ‡§∏‡§Æ‡§®‡•ç‡§∏‡§∏‡§æ‡§†‡•Ä‡§ö) */}
        {showWitnesses && (
          <>
            <h3 className="text-xl font-semibold mt-6 mb-4 text-purple-700">‡•™. ‡§∏‡§æ‡§ï‡•ç‡§∑‡•Ä‡§¶‡§æ‡§∞‡§æ‡§Ç‡§ö‡•Ä ‡§Ø‡§æ‡§¶‡•Ä</h3>
            <table className="witness-input-table">
              <thead>
                <tr>
                  <th style={{width: '10%'}}>‡§Ö.‡§ï‡•ç‡§∞</th>
                  <th style={{width: '45%'}}>‡§∏‡§æ‡§ï‡•ç‡§∑‡•Ä‡§¶‡§æ‡§∞‡§æ‡§ö‡•á ‡§®‡§æ‡§Ç‡§µ</th>
                  <th style={{width: '45%'}}>‡§∞‡§æ‡§π‡§£‡§æ‡§∞ (‡§™‡§§‡•ç‡§§‡§æ)</th>
                </tr>
              </thead>
              <tbody>
                {formData.witnesses.map((witness, index) => (
                  <tr key={index}>
                    <td className="text-center">{index + 1}</td>
                    <td>
                      <input
                        type="text"
                        value={witness.name}
                        onChange={(e) => handleWitnessChange(index, 'name', e.target.value)}
                        placeholder="‡§∏‡§æ‡§ï‡•ç‡§∑‡•Ä‡§¶‡§æ‡§∞‡§æ‡§ö‡•á ‡§®‡§æ‡§Ç‡§µ"
                      />
                    </td>
                    <td>
                      <input
                        type="text"
                        value={witness.address}
                        onChange={(e) => handleWitnessChange(index, 'address', e.target.value)}
                        placeholder="‡§™‡§§‡•ç‡§§‡§æ"
                      />
                    </td>
                  </tr>
                ))}
              </tbody>
            </table>
            
            <button onClick={handleAddWitness} className="add-button">
              + ‡§∏‡§æ‡§ï‡•ç‡§∑‡§¶‡§æ‡§∞ ‡§ú‡•ã‡§°‡§æ
            </button>
          </>
        )}
        
        {/* ‡§Ü‡§ú‡§ö‡•Ä ‡§§‡§æ‡§∞‡•Ä‡§ñ */}
        <div className="input-group" style={{marginTop: '30px'}}>
          <label>‡§Ü‡§ú‡§ö‡•Ä ‡§§‡§æ‡§∞‡•Ä‡§ñ (‡§¶‡§ø‡§®‡§æ‡§Ç‡§ï - DD/MM/YYYY):</label>
          <input 
              type="text" 
              name="currentDate" 
              value={formData.currentDate} 
              onChange={handleInputChange} 
              placeholder="DD/MM/YYYY"
          />
        </div>


        {/* ‡§™‡•ç‡§∞‡§ø‡§Ç‡§ü‡§∏‡§æ‡§†‡•Ä ‡§≤‡§™‡§µ‡§≤‡•á‡§≤‡§æ ‡§≠‡§æ‡§ó - ‡§Ø‡•á‡§•‡•á PrintLayout ‡§µ‡§æ‡§™‡§∞‡§≤‡§æ ‡§ú‡§æ‡§§‡•ã */}
        <div id="print-area" style={{ display: 'none' }}>
          <PrintLayout data={formData} />
        </div>
      </div>
    </div>
  );
};

export default SummonsFormApp;
